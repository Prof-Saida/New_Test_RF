<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Form Redirect</title>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyFZg9QeJmpm6cCWRNEdQYkfsb6-tRKlInbUhxMGVEKOUOFvc6iyvdsAjOJs-QvfLQO/exec"
/* =========================
   USER ID (same logic)
========================= */
let userId = localStorage.getItem("userId");
if (!userId) {
  userId = "U" + Math.random().toString(36).substr(2, 9);
  localStorage.setItem("userId", userId);
}

/* =========================
   LAST FORM TYPE
========================= */
let lastType = localStorage.getItem("lastType") || "F";

/* =========================
   NEXT FORM (your switch)
========================= */
let chosenType;

switch (lastType) {
  case "A": chosenType = "B"; break;
  case "B": chosenType = "C"; break;
  case "C": chosenType = "D"; break;
  case "D": chosenType = "E"; break;
  case "E": chosenType = "F"; break;
  default:  chosenType = "A";
}

/* =========================
   FORM URLS (unchanged)
========================= */
const forms = {
  A: "https://forms.gle/f5SfhpjNyU2hNLTa6",
  B: "https://forms.gle/Bggr2miD7K5LBFiM6",
  C: "https://forms.gle/GQDMDCCJjFoJNL937",
  D: "https://forms.gle/bQUzKVw4qmMAFjY68",
  E: "https://forms.gle/bpWjeaE1uHdKBWBd9",
  F: "https://forms.gle/y9tb4aF5cbknNLSSA"
};

/* =========================
   SAVE STATE (HTML version
   of appendRow)
========================= */
localStorage.setItem("lastType", chosenType);

/* =========================
   REDIRECT
========================= */
window.onload = function () {
  window.location.href =
    forms[chosenType] + "?userId=" + userId;
};
</script>
</head>

<body style="font-family:Arial; text-align:center; padding:50px;">
  <p>Redirecting to form <strong id="t"></strong>â€¦</p>
  <script>
    document.getElementById("t").innerText = chosenType;
  </script>
</body>
</html>
